<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CASE 2</title>
    <link rel="stylesheet" href="../CSS/Case2.css">
</head>
<script src="../JAVASCRIPT/Case2.js"></script>
<body>
     <!--
    Eventnaam
    Datum
    Locatie
    countdown timer
    -->
    <div class="hero">
        <h1>Tech Mania 2026</h1>
        <p>12 juli 2026 • Brussel Expo</p>
        <div id="countdownTimer" style="font-size:7rem; color:white; margin-bottom:20px;"></div>
        <br>
        <button id="registerBtn">Registreer nu</button>
    </div>
    <main>
        <section class="programma">
            <h2>Programma</h2>
            <div class="timeline">
                <div>
                    <h3>10:00 - 11:00</h3>
                    <p>Opening Keynote: De Toekomst van Technologie</p>
                </div>
                <div>
                    <h3>11:15 - 12:15</h3>
                    <p>Paneldiscussie: AI en Ethiek</p>
                </div>
                <div>
                    <h3>12:30 - 13:30</h3>
                    <p>Lunchpauze & Netwerken</p>
                </div>
                <div>
                    <h3>13:45 - 14:45</h3>
                    <p>Workshop: Blockchain in de Praktijk</p>
                </div>
                <div>
                    <h3>15:00 - 16:00</h3>
                    <p>Afsluitende Keynote: Innovatie in de Volgende Decade</p>
                </div>
            </div>
        </section>

        <!-- SPEAKERS -->
        <section class="speakers">
            <h2>Sprekers</h2>
            <div class="cards">
                <div class="card">
                    <img src="../IMAGES/Emma_prof.jpg" alt="Spreker 1">
                    <h3>Dr. Emma Tech</h3>
                    <p>AI Specialist bij FutureTech</p>
                </div>
                <div class="card">
                    <img src="../IMAGES/PresenterPic_Charlie_Kirk.jpg" alt="Spreker 2">
                    <h3>Prof. Lucas Innovate</h3>
                    <p>Blockchain Expert aan Universiteit van Brussel</p>
                </div>
                <div class="card">
                    <img src="../IMAGES/depositphotos_9993241-stock-photo-old-aged-female-person-very.jpg" alt="Spreker 3">
                    <h3>Sara Future</h3>
                    <p>CTO bij NextGen Solutions</p>
                </div>
            </div>
        </section>

        <section class="faq-section" id="faq">

            <h2>Veelgestelde vragen</h2>

            <div class="faq-container">

            <div class="faq-item">
                <button class="faq-question">
                Wat is inbegrepen in mijn ticket?
                <span class="faq-icon">+</span>
                </button>
                <div class="faq-answer">
                    <p>
                    Je ticket geeft toegang tot alle keynotes, networking zones,
                    expo area en gekozen workshops. VIP-tickets bevatten
                    extra front seats en een exclusief T-shirt.
                    </p>
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">
                Kan ik mijn ticket annuleren?
                <span class="faq-icon">+</span>
                </button>
            <div class="faq-answer">
            <p>
            Tickets zijn overdraagbaar tot 7 dagen voor het evenement.
            Neem contact op met de organisatie voor wijzigingen.
            </p>
            </div>
            </div>

            <div class="faq-item">
            <button class="faq-question">
            Hoe werkt de kortingscode?
            <span class="faq-icon">+</span>
            </button>
            <div class="faq-answer">
            <p>
            Een geldige kortingscode geeft automatisch 20% korting
            op de totale ticketprijs nadat je op "Controleer" klikt.
            </p>
            </div>
            </div>

            <div class="faq-item">
            <button class="faq-question">
            Waarom vragen jullie dieetvoorkeur?
            <span class="faq-icon">+</span>
            </button>
            <div class="faq-answer">
            <p>
            Deze informatie wordt uitsluitend gebruikt om catering
            aan te passen tijdens het evenement en wordt niet voor
            andere doeleinden opgeslagen (GDPR).
            </p>
            </div>
            </div>

            </div>
        </section>

         <form class="registration-form" id="formTitle" action="https://hook.eu1.make.com/525ibiiv8hs1cs7g7sv6o7c7d29whf7a">

            <h2>Registreer voor Tech Mania 2026</h2>
             <label>Naam*</label>
            <input type="text" id="name" name="Naam" required>

            <label>E-mail*</label>
            <input type="email" id="email" name="Email" required>

            <label>Telefoon (optioneel)</label>
            <input type="tel" pattern="^(\+32|0)[0-9]{8,9}$" id="phone" name="Telefoon" placeholder="Bijv: +3212345678 of 012345678">

            <h3>Tickettype</h3>

            <div class="ticket-options">

                <input type="radio" id="early" name="tickettype" value="Early Bird" data-price="1199" required>
                <label for="early" class="ticket-card">
                    <h4>Early Bird</h4>
                    <p>Beperkte korting voor snelle beslissers</p>
                    <span class="price-tag">€1199</span>
                </label>

                <input type="radio" id="standard" name="tickettype" value="Standaard" data-price="2099">
                <label for="standard" class="ticket-card">
                    <h4>Standaard</h4>
                    <p>Volledige toegang tot het event</p>
                    <span class="price-tag">€2099</span>
                </label>

                <input type="radio" id="vip" name="tickettype" value="VIP" data-price="3199">
                <label for="vip" class="ticket-card vip">
                    <h4>VIP</h4>
                    <p>Front seats + VIP T-shirt + networking lounge</p>
                    <span class="price-tag">€3199</span>
                </label>

            </div>

            <label>Aantal tickets</label>
            <input type="range" id="amount" min="1" max="5" value="1" name="AantalTickets">
            <p>Tickets: <span id="amountDisplay">1</span></p>
            <br>

            <h3>Workshops (max 3)</h3>
            <div class="row-reverse">
                <label><input type="checkbox" class="workshop" value="99" name="AI"> AI</label>
                <label><input type="checkbox" class="workshop" value="99" name="Cloud"> Cloud</label>
                <label><input type="checkbox" class="workshop" value="99" name="Cybersecurity"> Cybersecurity</label>
                <label><input type="checkbox" class="workshop" value="99" name="Data"> Data</label>
            </div>

            <div id="tshirtField">
            <label>T-shirt maat (VIP)</label>
            <select name="t-shirt" default="none">
                <option>S</option>
                <option>M</option>
                <option>L</option>
                <option>XL</option>
            </select>
            </div>

            <label>Dieetvoorkeur</label>
            <select name="dieet">
                <option>Geen</option>
                <option>Vegetarisch</option>
                <option>Vegan</option>
                <option>Glutenvrij</option>
                <option>Halal</option>
            </select>

            <label>Kortingscode</label>
            <input type="text" id="discount" name="Kortingscode" placeholder="Voer code in: bv. TECH20">
            <button type="button" onclick="checkDiscount()">Controleer</button>
            <span id="discountMsg"></span>

            <div class="row-reverse">
                <label><input type="checkbox" id="gdpr" name="gdpr" required> Ik ga akkoord met de privacyvoorwaarden <a href="#gdpr" style="color:cyan;">Lees Hier</a></label>
            </div>

            <!-- GDPR POPUP -->
            <div id="gdprModal" class="gdpr-modal">
                <div class="gdpr-content">

                    <span class="close-gdpr">&times;</span>

                    <h2>Privacyverklaring – Tech Mania 2026</h2>

                    <p>
                    Bij inschrijving voor <strong>Tech Mania 2026</strong> verwerken wij
                    persoonsgegevens conform de GDPR (AVG-wetgeving).
                    </p>

                    <h3>1. Welke gegevens verzamelen wij?</h3>
                    <ul>
                        <li>Naam en e-mailadres (verplicht voor registratie)</li>
                        <li>Telefoonnummer (optioneel)</li>
                        <li>Tickettype en gekozen workshops</li>
                        <li>Dieetvoorkeur (uitsluitend voor cateringorganisatie)</li>
                        <li>T-shirtmaat (enkel bij VIP-tickets)</li>
                    </ul>

                    <h3>2. Waarom verwerken wij deze gegevens?</h3>
                    <p>
                    De gegevens worden uitsluitend gebruikt voor:
                    </p>
                    <ul>
                        <li>Registratie en ticketbeheer</li>
                        <li>Versturen van bevestigingsmails en ticketnummer</li>
                        <li>Organisatie van workshops en catering</li>
                        <li>Communicatie over het evenement</li>
                    </ul>

                    <h3>3. Automatische verwerking</h3>
                    <p>
                    Na inschrijving worden gegevens veilig doorgestuurd via Make.com
                    naar onze deelnemerslijst (Google Sheets) en e-mailsysteem.
                    Deze verwerking gebeurt enkel voor eventorganisatie.
                    </p>

                    <h3>4. Bewaartermijn</h3>
                    <p>
                    Persoonsgegevens worden maximaal 12 maanden na het evenement bewaard
                    en daarna automatisch verwijderd, tenzij wettelijke verplichtingen anders bepalen.
                    </p>

                    <h3>5. Delen van gegevens</h3>
                    <p>
                    Deelnemersgegevens worden nooit publiek gedeeld en enkel gebruikt
                    door het organisatieteam en noodzakelijke dienstverleners.
                    </p>

                    <h3>6. Uw rechten</h3>
                    <p>
                    U heeft recht op inzage, correctie of verwijdering van uw gegevens.
                    Contacteer ons via:
                    <br><strong>privacy@techmania2026.be</strong>
                    </p>

                    <p class="gdpr-footer">
                        Door het aanvinken van het GDPR-vakje gaat u akkoord met deze verwerking.
                    </p>

                </div>
            </div>

            <div class="price">
            Totaalprijs: € <span id="price">0</span>
            </div>

            <button type="submit">Bevestig inschrijving</button>

        </form>

    </main>
    <footer>

    </footer>


   <!-- ✈️ Vliegtuig -->
<img src="../IMAGES/plane-23.png" id="plane" alt="plane">

<!-- trail + explosies -->
<div id="trail"></div>
<div id="explosion"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {

    const btn = document.getElementById("registerBtn");
    const plane = document.getElementById("plane");
    const formTitle = document.getElementById("formTitle");
    const trail = document.getElementById("trail");
    const explosion = document.getElementById("explosion");

    let flying = false;
    let planeX = -200;
    let planeY = window.innerHeight * 0.35;

    btn.addEventListener("click", startFlight);

    function createParticle(x, y){
        const p = document.createElement("div");
        p.className = "particle";

        p.style.left = x + "px";
        p.style.top = y + "px";

        trail.appendChild(p);
        setTimeout(()=>p.remove(),800);
    }

    function createExplosion(x, y){
        const e = document.createElement("div");
        e.className = "explosionParticle";

        e.style.left = x + "px";
        e.style.top = y + "px";

        explosion.appendChild(e);
        setTimeout(()=>e.remove(),600);
    }

    function startFlight(){

        if(flying) return;
        flying = true;

        // Vliegtuig + trail zichtbaar
        plane.style.opacity = 1;
        trail.style.opacity = 1;

        const duration = 2200;
        const startTime = performance.now();

        function animate(time){
            let t = (time - startTime) / duration;
            if(t > 1) t = 1;

            const startX = -200;
            const startY = window.innerHeight * 0.35;

            const rect = formTitle.getBoundingClientRect();
            const endX = rect.left + rect.width/2 - 60;
            const endY = rect.top - 50;

            const controlX = window.innerWidth * 0.45;
            const controlY = startY - 220;

            // bezier flight path
            const newX = (1-t)*(1-t)*startX + 2*(1-t)*t*controlX + t*t*endX;
            const newY = (1-t)*(1-t)*startY + 2*(1-t)*t*controlY + t*t*endY;

            const dx = newX - planeX;
            const dy = newY - planeY;
            const angle = Math.atan2(dy, dx) * 180 / Math.PI;

            planeX = newX;
            planeY = newY;

            plane.style.transform = `translate(${planeX}px, ${planeY}px) rotate(${angle}deg)`;

            // trail achter motor
            const engineOffsetX = -plane.offsetWidth * 0.32;
            const engineOffsetY = plane.offsetHeight * 0.12;
            const rad = angle * Math.PI / 180;
            const rotatedX = engineOffsetX * Math.cos(rad) - engineOffsetY * Math.sin(rad);
            const rotatedY = engineOffsetX * Math.sin(rad) + engineOffsetY * Math.cos(rad);

            createParticle(planeX + rotatedX + (Math.random()*6-3), planeY + rotatedY + (Math.random()*6-3));

            // subtiele scroll
            window.scrollBy(0, 5.2);

            if(t < 1){
                requestAnimationFrame(animate);
            } else {
                landPlane();
            }
        }

        requestAnimationFrame(animate);
    }

    function landPlane(){
        
        plane.animate([
            { transform: plane.style.transform + " scale(1)" },
            { transform: plane.style.transform + " scale(0.85)" },
            { transform: plane.style.transform + " scale(1)" }
        ], {
            duration: 400,
            easing: "ease-out"
        });
        
        formTitle.classList.add("landing-impact");

        // explosie bij landing
        trail.style.opacity = 0;
        plane.style.opacity = 0;
        explosion.style.opacity = 1;

for(let i=0;i<12;i++){
    const dx = Math.random()*40 - 20; // willekeurige X
    const dy = Math.random()*40 - 20; // willekeurige Y

    const e = document.createElement("div");
    e.className = "explosionParticle";
    e.style.left = planeX + "px";
    e.style.top = planeY + "px";
    explosion.appendChild(e);

    // animatie met transform + fade
    setTimeout(()=>{
        e.style.transform = `translate(${dx}px, ${dy}px) scale(2)`;
        e.style.opacity = 0;
    },10);

    setTimeout(()=> e.remove(), 600);
}

// verdwijnt na landing
setTimeout(()=>{
    plane.style.opacity = 0;
    trail.style.opacity = 0;
    explosion.style.opacity = 0;
    formTitle.classList.remove("landing-impact");
    flying = false;
},600);
    }

});



const countdownEl = document.getElementById("countdownTimer");
const eventDate = new Date("2026-07-12T09:00:00");

function updateCountdown() {
    const now = new Date();
    const diff = eventDate - now;

    if(diff <= 0){
        countdownEl.textContent = "Het evenement is begonnen!";
        clearInterval(countdownInterval);
        return;
    }

    const days = Math.floor(diff / (1000*60*60*24));
    const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
    const minutes = Math.floor((diff % (1000*60*60)) / (1000*60));
    const seconds = Math.floor((diff % (1000*60)) / 1000);

    countdownEl.textContent = `${days} : ${hours} : ${minutes} : ${seconds}`;
}

updateCountdown();
const countdownInterval = setInterval(updateCountdown, 1000);



document.addEventListener("DOMContentLoaded", () => {

    const ticketRadios = document.querySelectorAll('input[name="tickettype"]');
    const amountSlider = document.getElementById("amount");
    const amountDisplay = document.getElementById("amountDisplay");
    const priceEl = document.getElementById("price");
    const tshirtField = document.getElementById("tshirtField");
    const discountInput = document.getElementById("discount");
    const discountMsg = document.getElementById("discountMsg");

    let discountActive = false;

    function updateTshirt() {
        const vipChecked = document.getElementById("vip").checked;
        tshirtField.style.display = vipChecked ? "block" : "none";
    }

    function calculatePrice() {

    let ticketPrice = 0;

    const selectedTicket =
        document.querySelector('input[name="tickettype"]:checked');

    if (selectedTicket) {
        ticketPrice = Number(selectedTicket.dataset.price);
    }

    let total = ticketPrice * Number(amountSlider.value);

    if (discountActive){
        total *= 0.8;
    }

    priceEl.textContent = Math.round(total);
}

    ticketRadios.forEach(radio => {
        radio.addEventListener("change", () => {
            updateTshirt();
            calculatePrice();
        });
    });

    amountSlider.addEventListener("input", () => {
        amountDisplay.textContent = amountSlider.value;
        calculatePrice();
    });

    discountInput.addEventListener("input", () => {
        discountActive = false;
        discountMsg.textContent = "";
    });

    window.checkDiscount = function(){
        const code = discountInput.value.trim().toUpperCase();
        if(code === "TECH20"){
            discountActive = true;
            discountMsg.textContent = "Korting toegepast! (-20%)";
            discountMsg.style.color = "lightgreen";
        } else {
            discountActive = false;
            discountMsg.textContent = "Ongeldige code";
            discountMsg.style.color = "red";
        }
        calculatePrice();
    }

    updateTshirt();
    amountDisplay.textContent = amountSlider.value;
    calculatePrice();

});

// GDPR POPUP
const gdprModal = document.getElementById("gdprModal");
const gdprLink = document.querySelector('a[href="#gdpr"]');
const closeBtn = document.querySelector(".close-gdpr");

gdprLink.addEventListener("click", function(e){
    e.preventDefault();
    gdprModal.style.display = "block";
});

closeBtn.addEventListener("click", () => {
    gdprModal.style.display = "none";
});

window.addEventListener("click", (e) => {
    if(e.target === gdprModal){
        gdprModal.style.display = "none";
    }
});


// FAQ ACCORDION
const faqItems = document.querySelectorAll(".faq-item");

faqItems.forEach(item => {

    const button = item.querySelector(".faq-question");

    button.addEventListener("click", () => {

        // sluit andere open items
        faqItems.forEach(el => {
            if(el !== item){
                el.classList.remove("active");
            }
        });

        // toggle huidige
        item.classList.toggle("active");
    });

});


const form = document.querySelector(".registration-form");

/* Ticketnummer generator */
function generateTicketNumber(name){

    const clean = name
        .replace(/[^a-zA-Z]/g,"")
        .toUpperCase()
        .substring(0,3)
        .padEnd(3,"X");

    const timestamp = Date.now();
    const random = Math.floor(1000 + Math.random()*9000);

    return `${clean}-${timestamp}-${random}`;
}


/* FORM SUBMIT OVERRULE */
form.addEventListener("submit", async function(e){

    e.preventDefault(); // voorkomt standaard submit

    const gdprChecked = document.getElementById("gdpr").checked;
    if(!gdprChecked){
        alert("Je moet akkoord gaan met de privacyvoorwaarden.");
        return;
    }

    const formData = new FormData(form);

    /* Naam ophalen (BELANGRIJK: jouw veld heet 'Naam') */
    const naam = formData.get("Naam");

    /* Ticketnummer maken */
    const ticketnummer = generateTicketNumber(naam);

    /* workshops verzamelen */
    const workshops =
        Array.from(document.querySelectorAll(".workshop:checked"))
        .map(w => w.name)
        .join(", ");

    /* totaalprijs ophalen */
    const totaalprijs =
        document.getElementById("price").textContent;

    /* DATA voor Make */
    const data = {
        Naam: naam,
        Email: formData.get("Email"),
        Telefoon: formData.get("Telefoon"),
        Tickettype: formData.get("tickettype"),
        AantalTickets: formData.get("AantalTickets"),
        Dieet: formData.get("dieet"),
        Tshirt: formData.get("t-shirt"),
        Kortingscode: formData.get("Kortingscode"),
        Workshops: workshops,
        Totaalprijs: totaalprijs,
        Ticketnummer: ticketnummer
    };

    try{

        await fetch(
            "https://hook.eu1.make.com/525ibiiv8hs1cs7g7sv6o7c7d29whf7a",
            {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            }
        );

        alert(
            "✅ Inschrijving gelukt!\n\nJe ticketnummer:\n" +
            ticketnummer + "\n\nBekijk je mailbox voor de bevestiging en verdere details."
        );

        form.reset();
        document.getElementById("price").textContent = "0";

    } catch(error){
        console.error(error);
        alert("Er ging iets mis bij verzenden.");
    }

});


/* MAX 3 WORKSHOPS SELECTEREN */
document.addEventListener("DOMContentLoaded", () => {

    const workshopCheckboxes = document.querySelectorAll(".workshop");
    const MAX_WORKSHOPS = 3;

    workshopCheckboxes.forEach(box => {

        box.addEventListener("change", () => {

            const checked =
                document.querySelectorAll(".workshop:checked");

            // als meer dan 3 → laatste keuze terug uitzetten
            if (checked.length > MAX_WORKSHOPS) {
                box.checked = false;
                alert("Je mag maximaal 3 workshops kiezen.");
            }

        });

    });

});


</script>
</body>
</html>